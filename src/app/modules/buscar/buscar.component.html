<div class="fondo-foto">
    <div class="container-fluid" style="padding-top: 56px; padding-bottom: 100px;">
        <div class="container">
            <div class="row">
                <div class="col-12 pt-5 pb-1 pl-3 pr-3 col-md-6 offset-md-3 animated fadeInUp">
        
                    
                    
                <form (ngSubmit)="buscar(forma)" #forma="ngForm">    
                    <mat-form-field appearance="outline" class="d-block w-100">
                        <mat-label>Delegación</mat-label>
    
                        <mat-select [(ngModel)]="selectedValueDelegacion" name="delegacion">
                            <mat-option *ngFor="let delegacion of delegaciones" [value]="delegacion.delegacion">
                                {{ delegacion.delegacion }}
                            </mat-option>
                        </mat-select>
    
                        <mat-icon matSuffix class="secondary-text">navigation</mat-icon>
                        <mat-error>La Delegación es un campo requerido</mat-error>
                    </mat-form-field>
    
    
                    <mat-form-field appearance="outline" class="d-block w-100">
                        <mat-label>Número de recamaras</mat-label>
    
                        <mat-select [(ngModel)]="selectedValueRecamaras" name="recamaras">
                            <mat-option [value]="1">1</mat-option>
                            <mat-option [value]="2">2</mat-option>
                            <mat-option [value]="3">3</mat-option>
                        </mat-select>
    
                        <mat-icon matSuffix class="secondary-text">local_hotel</mat-icon>
                        <mat-error>El número de recamaras es un campo requerido</mat-error>
                    </mat-form-field>
    
    
    
                    <mat-form-field appearance="outline" class="d-block w-100">
                        <mat-label>Tipo de venta</mat-label>
    
                        <mat-select [(ngModel)]="selectedValueTipo" name="tipo">
                            <mat-option [value]="1">Preventa</mat-option>
                            <mat-option [value]="2">Entrega inmediata</mat-option>
                        </mat-select>
    
                        <mat-icon matSuffix class="secondary-text">account_tree</mat-icon>
                        <mat-error>El tipo de venta es un campo requerido</mat-error>
                    </mat-form-field>
    
        
                    <div class="form-group text-center">
                        <div class="row">
                            <div class="col-6 offset-3">
                                    <!-- <button class="btn btn-primary w-100" routerLink="/registros"> -->
                                    <button class="btn btn-primary w-100" (click)="scroll(busqueda)">
                                        BUSCAR
                                    </button>
    
    
                                    <!-- <button mat-raised-button (click)="openDialog()">Pick one</button> -->
                            </div>
                        </div>
                    </div>
                </form>
                </div>
            </div>
    
    
            <div class="row">
                <div class="col-10 offset-1 col-md-6 offset-md-3 mt-5 mb-5">
                    <!-- <img src="./../../../assets/img/anuncio_index.jpg" style="width:100%" alt=""> -->
    
    
                    <div id="carouselIndex" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="./assets/img/banners/banner_index_01.png" class="d-block w-100 slider-portada" alt="..." style="width: 100%">
                            </div>
                            <div class="carousel-item">
                                <img src="./assets/img/banners/banner_index_02.png" class="d-block w-100 slider-portada" alt="..." style="width: 100%">
                            </div>
                            <div class="carousel-item">
                                <img src="./assets/img/banners/banner_index_03.png" class="d-block w-100 slider-portada" alt="..." style="width: 100%">
                            </div>
                            <div class="carousel-item">
                                <img src="./assets/img/banners/banner_index_04.png" class="d-block w-100 slider-portada" alt="..." style="width: 100%">
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#carouselIndex" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselIndex" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
    
    
    
    
            <div class="row resultados" #busqueda>
                <div class="col-12 col-md-6 col-lg-4 animated fadeInUp" *ngFor="let item of departamentos | keyvalue">    
                    <div class="card shadow mt-3 mb-3">
                        <img src="{{ item.value.fotos[0].url }}" class="card-img-top">
                        
                        <div class="card-body pb-0">
                            <h4>{{ item.value.desarrollo }}</h4>
                        </div>
                        
                        <div *ngIf="item.value.tipo_venta == '1'" class="bg-success text-center text-light p-2">
                            PREVENTA
                        </div>
    
                        <div *ngIf="item.value.tipo_venta == '2'" class="bg-danger text-center text-light p-2">
                            ENTREGA INMEDIATA
                        </div>
    
                        <div class="card-body text-center">
                           
                            <div class="row">
                                <div class="col-3">
                                    <a class="text-danger" (click)="guardarFavorito(autorizacion.traerUidSiExisteUsuario(), item.value)" *ngIf="autorizacion.gioUsuario | async as usuario; else login">
                                        <mat-icon class="text-material-primary">favorite</mat-icon>
                                    </a>
                                </div>
                                
                                <div class="col-9">
                                     <!-- <button class="btn btn-primary" (click)="cargarDepartamento(item.value.id)"> -->
                                    <button class="btn btn-primary" [routerLink]="['/ficha', item.value.id]">
                                        VER DESARROLLO
                                    </button>
                                </div>
                            </div>
                           
                        </div>
    
                    </div>
            </div>
            </div>
        </div>
    </div>
</div>